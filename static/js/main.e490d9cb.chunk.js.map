{"version":3,"sources":["assets/logo_regular.png","components/FilterSelector.js","components/Application.js","services/api.js","components/IncidentList.js","components/ClientTable.js","components/Dashboard.js","components/PrivateRoute.js","components/LoginForm.js","components/Login.js","AppRoute.js","index.js"],"names":["FilterSelector","props","sendSearchRangeChange","e","searchRangeChange","sendDateRangeChange","dateRangeChange","sendWordSearchChange","wordSearchChange","sendIncludePoliceChange","includePoliceChange","sendIncludeFireChange","includeFireChange","sendIncludeAmbuChange","includeAmbuChange","handleChange","name","event","handleFireChange","setState","checkboxFire","state","handlePolChange","checkboxPol","handleAmbuChange","checkboxAmbu","Slider","progress","min","step","max","defaultValue","onChange","value","console","log","searchRanged","dateRanged","Input","placeholder","Checkbox","checked","this","includeFire","includePol","includeAmbu","React","Component","mapboxgl","accessToken","process","Application","constructor","super","target","lng","lat","zoom","searchRange","dateRange","array","wordSearch","handleDateRangeChange","bind","handleSearchRangeChange","handleWordSearchChange","handleIncludePoliceChange","handleIncludeFireChange","handleIncludeAmbuChange","componentDidMount","map","Map","container","mapContainer","style","center","jsonToGeoJson","geojson","type","features","length","Object","keys","i","push","geometry","coordinates","fields","longitude","latitude","properties","monitorcode","comment","emergency_service","priority_code","region","pub_date","on","getCenter","toFixed","getZoom","lngLat","Popup","color","setLngLat","setText","addTo","axios","params","includePolice","then","results","data","getSource","removeLayer","removeSource","addSource","addLayer","id","source","paint","getCanvas","cursor","slice","popup_extra","setHTML","remove","closeButton","closeOnClick","render","className","src","logo","alt","ref","el","interceptors","request","use","x","response","error","Promise","reject","Column","HeaderCell","Cell","Pagination","Table","IncidentList","renderRaise","user","hits","get","headers","Authorization","localStorage","getItem","hitzone","number","isPositive","isNegative","paddingLeft","virtualized","height","onRowClick","width","fixed","dataKey","ClientTable","clients","align","rowData","handleAction","alert","onClick","Dashboard","PrivateRoute","component","authed","rest","to","pathname","from","location","current_environment","window","origin","LoginForm","handle_change","prevstate","newState","handle_login","preventDefault","fetch","method","body","JSON","stringify","res","json","undefined","token","setItem","username","href","catch","password","Form","fluid","top","FormGroup","ControlLabel","FormControl","ButtonToolbar","Button","appearance","disabled","HelpBlock","tooltip","Login","logged_in","url","handleLoginChange","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","AppRoute","handle_logout","removeItem","displayed_form","Header","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e490d9cb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_regular.0709e572.png\";","// https://rsuitejs.com/components/slider/\n// dit component voorzien variabelen voor de search query\n\nimport React from 'react';\nimport { Checkbox, Input, Slider } from 'rsuite';\n\nclass FilterSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      checkboxFire: true,\n      checkboxPol: true,\n      checkboxAmbu: true\n    };\n  }\n\n  sendSearchRangeChange = e => {\n    this.props.searchRangeChange(e);\n  };\n\n  sendDateRangeChange = e => {\n    this.props.dateRangeChange(e);\n  };\n\n  sendWordSearchChange = e => {\n    this.props.wordSearchChange(e);\n  };\n\n  sendIncludePoliceChange = e => {\n    this.props.includePoliceChange(e);\n  };\n\n  sendIncludeFireChange = e => {\n    this.props.includeFireChange(e);\n    // console.log(e)\n  };\n\n  sendIncludeAmbuChange = e => {\n    this.props.includeAmbuChange(e);\n  };\n\n  handleChange = (name, event) => {\n    this.props.handleChange(name, event);\n  };\n\n  handleFireChange = event => {\n    this.setState({\n      checkboxFire: !this.state.checkboxFire\n    });\n\n    this.sendIncludeFireChange(this.state.checkboxFire);\n  };\n\n  handlePolChange = event => {\n    this.setState({\n      checkboxPol: !this.state.checkboxPol\n    });\n    this.sendIncludePoliceChange(this.state.checkboxPol);\n  };\n\n  handleAmbuChange = event => {\n    this.setState({\n      checkboxAmbu: !this.state.checkboxAmbu\n    });\n    this.sendIncludeAmbuChange(this.state.checkboxAmbu);\n  };\n\n  render() {\n    return (\n      <div>\n        How big is the search area in km?\n        <Slider\n          progress\n          min={0.5}\n          step={0.5}\n          max={20}\n          defaultValue={1}\n          onChange={value => {\n            console.log('radius ' + value);\n            this.sendSearchRangeChange(value);\n            console.log(this.props.searchRanged);\n          }}\n        />\n        <br />\n        Look back how many days?\n        <Slider\n          progress\n          defaultValue={30}\n          min={0}\n          max={50}\n          onChange={value => {\n            console.log('date range ' + value);\n            this.sendDateRangeChange(value);\n            console.log(this.props.dateRanged);\n          }}\n        />\n        <br />\n        Filter on other words/values\n        <Input\n          placeholder=\"ex. 'Brand'\"\n          onChange={value => {\n            this.sendWordSearchChange(value);\n          }}\n        />\n        <br />\n        <Checkbox\n          checked={!!this.props.includeFire}\n          onChange={this.handleFireChange}\n        >\n          {' '}\n          Brandweer\n        </Checkbox>\n        <Checkbox\n          checked={!!this.props.includePol}\n          onChange={this.handlePolChange}\n        >\n          {' '}\n          Politie\n        </Checkbox>\n        <Checkbox\n          checked={!!this.props.includeAmbu}\n          onChange={this.handleAmbuChange}\n        >\n          {' '}\n          Ambulance\n        </Checkbox>\n      </div>\n    );\n  }\n}\n\nexport default FilterSelector;\n","import * as axios from 'axios';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport React from 'react';\n\nimport logo from '../assets/logo_regular.png';\n\nimport FilterSelector from './FilterSelector';\n\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOXGL_ACCESS_TOKEN;\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nclass Application extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      lng: 5.8,\n      lat: 52,\n      zoom: 7,\n      searchRange: 1,\n      dateRange: 30,\n      array: 0,\n      wordSearch: '',\n      includeFire: true,\n      includePol: true,\n      includeAmbu: true\n    };\n    // this.handleChange = this.handlechange.bind(this)\n    this.handleDateRangeChange = this.handleDateRangeChange.bind(this);\n    this.handleSearchRangeChange = this.handleSearchRangeChange.bind(this);\n    this.handleWordSearchChange = this.handleWordSearchChange.bind(this);\n    this.handleIncludePoliceChange = this.handleIncludePoliceChange.bind(this);\n    this.handleIncludeFireChange = this.handleIncludeFireChange.bind(this);\n    this.handleIncludeAmbuChange = this.handleIncludeAmbuChange.bind(this);\n  }\n\n  //functions to handle changes in filter sliders\n  handleChange = name => event => {\n    this.setState({ ...this.state, [name]: event.target.checked });\n  };\n\n  handleDateRangeChange(value) {\n    this.setState({ dateRange: value });\n  }\n\n  handleSearchRangeChange(value) {\n    this.setState({ searchRange: value });\n  }\n\n  handleWordSearchChange(value) {\n    this.setState({ wordSearch: value });\n  }\n\n  handleIncludeFireChange(value) {\n    this.setState({ includeFire: value });\n    console.log('fire new: ' + value);\n  }\n\n  handleIncludePoliceChange(value) {\n    this.setState({ includePol: value });\n    console.log('police new: ' + value);\n  }\n\n  handleIncludeAmbuChange(value) {\n    this.setState({ includeAmbu: value });\n    console.log('ambu new: ' + value);\n    // console.log('ambu current: ' + this.state.includeAmbu)\n  }\n\n  componentDidMount() {\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/kdebrauw/ckaxjbuh50ohl1ioo470azefc',\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom\n    });\n\n    map.on('move', () => {\n      this.setState({\n        lng: map.getCenter().lng.toFixed(4),\n        lat: map.getCenter().lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n    });\n\n    map.on('click', event => {\n      const { lat, lng } = event.lngLat;\n\n      new mapboxgl.Popup({\n        color: '#2A3C47'\n      })\n        .setLngLat(event.lngLat)\n        .setText(\n          'What happened here in the last ' + this.state.dateRange + ' days?'\n        )\n        .addTo(map);\n\n      // localhost: 'http://127.0.0.1:8000/scraper/api/location/'\n      // production: 'https://incident-monitor-nl.herokuapp.com/scraper/api/location/'\n      axios\n        .get(\n          `${apiUrl}/scraper/api/location/`,\n          {\n            params: {\n              dateRange: this.state.dateRange,\n              'location-list': `SRID=4326;POINT(${lng} ${lat})`,\n              searchRange: this.state.searchRange,\n              wordSearch: this.state.wordSearch,\n              includePolice: this.state.includePol,\n              includeFire: this.state.includeFire,\n              includeAmbu: this.state.includeAmbu\n            }\n          }\n        )\n        .then(results => {\n          this.results = results.data;\n          console.log(jsonToGeoJson(results.data));\n\n          //update this.state.array with query number results\n          this.setState({ array: this.results.length });\n\n          // if layer exists remove old one\n          if (map.getSource('locaties')) {\n            map.removeLayer('locaties_waddan');\n            map.removeSource('locaties');\n          }\n\n          map.addSource('locaties', {\n            type: 'geojson',\n            data: jsonToGeoJson(results.data)\n          });\n\n          map.addLayer({\n            id: 'locaties_waddan',\n            type: 'circle',\n            source: 'locaties',\n            paint: {\n              'circle-radius': 5,\n              'circle-stroke-color': '#2A3C47',\n              'circle-stroke-width': 1,\n              'circle-color': [\n                'match',\n                ['get', 'emergency_service'],\n                'ambu',\n                '#EFDC23',\n                'br',\n                '#D13620',\n                'pol',\n                '#2134BE',\n                'unknown',\n                '#3bb2d0',\n                /* other */ '#3C3C3D'\n              ]\n            }\n          });\n\n          map.on('mouseenter', 'locaties_waddan', function (e) {\n            map.getCanvas().style.cursor = 'pointer';\n\n            var coordinates = e.features[0].geometry.coordinates.slice();\n            var monitorcode = e.features[0].properties.monitorcode;\n            var comment = e.features[0].properties.comment;\n            var emergency_service = e.features[0].properties.emergency_service;\n            var priority_code = e.features[0].properties.priority_code;\n            var pub_date = e.features[0].properties.pub_date;\n\n            // console.log(coordinates);\n            console.log(monitorcode);\n\n            // Ensure that if the map is zoomed out such that multiple\n            // copies of the feature are visible, the popup appears\n            // over the copy being pointed to.\n\n            // while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n            // coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n            // }\n\n            popup_extra\n              .setLngLat(coordinates)\n              .setHTML(\n                '<H3> Incident </H3>' +\n                  pub_date +\n                  '<br> <br> Prioriteit: ' +\n                  priority_code +\n                  '<br> Hulpdienst: ' +\n                  emergency_service +\n                  '<br> <br> Bericht: ' +\n                  comment\n              )\n              .addTo(map);\n          });\n\n          map.on('mouseleave', 'locaties_waddan', function () {\n            map.getCanvas().style.cursor = '';\n            popup_extra.remove();\n          });\n        });\n    });\n\n    function jsonToGeoJson(e) {\n      var geojson = {\n        type: 'FeatureCollection',\n        features: []\n      };\n      var length = Object.keys(e).length;\n\n      for (var i = 0; i < length; i++) {\n        // if (window.CP.shouldStopExecution(1)) {\n        //   break;\n        // }\n        geojson.features.push({\n          type: 'Feature',\n          geometry: {\n            type: 'Point',\n            coordinates: [e[i].fields.longitude, e[i].fields.latitude]\n          },\n          properties: {\n            monitorcode: e[i].fields.monitorcode,\n            comment: e[i].fields.comment,\n            emergency_service: e[i].fields.emergency_service,\n            priority_code: e[i].fields.priority_code,\n            region: e[i].fields.region,\n            pub_date: e[i].fields.pub_date\n          }\n        });\n      }\n\n      // window.CP.exitedLoop(1); test\n      // var parsed = GeoJSON.parse(file, {Point: ['fields.latitude', 'fields.longitude']})\n      return geojson;\n    }\n\n    var popup_extra = new mapboxgl.Popup({\n      closeButton: false,\n      closeOnClick: false\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div></div>\n        <div className=\"dataHolder\">\n          <div>\n            <img className=\"logo_home\" src={logo} alt=\"Logo Incidentradar\" />\n          </div>\n          <div className=\"introbarStyle\">\n            <div>Click on the map to explore recent incidents in an area. </div>\n          </div>\n          <div className=\"hline\" />\n          <div className=\"filterStyle\">\n            <FilterSelector\n              searchRanged={this.state.searchRange}\n              dateRanged={this.state.dateRange}\n              handleChange={this.handleChange}\n              searchRangeChange={this.handleSearchRangeChange}\n              dateRangeChange={this.handleDateRangeChange}\n              wordSearchChange={this.handleWordSearchChange}\n              includePoliceChange={this.handleIncludePoliceChange}\n              includeFireChange={this.handleIncludeFireChange}\n              includeAmbuChange={this.handleIncludeAmbuChange}\n              includeFire={this.state.includeFire}\n              includePol={this.state.includePol}\n              includeAmbu={this.state.includeAmbu}\n            />\n          </div>\n          <div className=\"sidebarStyle\">\n            <div>\n              Longitude: {this.state.lng} | Latitude: {this.state.lat} | Zoom:{' '}\n              {this.state.zoom}\n            </div>\n            <div> Your click returned {this.state.array} results </div>\n          </div>\n          <div className=\"carthaBar\">\n            <div>Designed and powered by Cartha</div>\n          </div>\n        </div>\n        <div ref={el => (this.mapContainer = el)} className=\"mapContainer\" />\n      </div>\n    );\n  }\n}\n\nexport default Application;\n\n// ReactDOM.render(<Application />, document.getElementById('App'));\n","// API STUFF\nimport axios from 'axios';\n\n// AXIOS STUFF\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\naxios.interceptors.request.use(x => {\n  console.log(x);\n  return x;\n});\n\n// interceptor that puts call details in console\naxios.interceptors.response.use(\n  x => {\n    console.log(x);\n    return x;\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error);\n  }\n);\n\n// AXIOS STUFF END\n\n//Returns the user determined by token in localstorage\nexport function getUser() {\n  return axios.get(`${apiUrl}/scraper/current_user/`, {\n    headers: {\n      Authorization: `Token ${localStorage.getItem('token')}`\n    }\n  });\n}\n\n// returns hits relevant for the user\nexport function getIncidentHits() {\n  return axios.get(`http://api.incidentradar.com/scraper/api/incidentHits/`, {\n    headers: {\n      Authorization: `Token ${localStorage.getItem('token')}`\n    }\n  });\n}\n\n// returns tracked/client locations for the user\nexport function getClientLocations() {\n  return axios.get(\n    `http://api.incidentradar.com/scraper/api/clientLocationList/`,\n    {\n      headers: {\n        Authorization: `Token ${localStorage.getItem('token')}`\n      }\n    }\n  );\n}\n\n// add a new client location to tracked locations\nexport function addClientLocation(data) {\n  return axios.post(\n    `${apiUrl}/scraper/api/addclientlocation`,\n    {\n      headers: {\n        Authorization: `Token ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    }\n  );\n}\n\n// remove client location from tracked locations\nexport function removeClientLocation(data) {\n  return axios.delete(\n    `${apiUrl}/scraper/api/addclientlocation`,\n    {\n      headers: {\n        Authorization: `Token ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    }\n  );\n}\n","import React from 'react';\nimport { Table, List } from 'rsuite';\nimport { getIncidentHits } from '../services/api';\n\nconst { Column, HeaderCell, Cell, Pagination } = Table;\n\n\n\n\n// testdata voor list\nconst data = [\n  {\n    title: 'Brand gemeld',\n    icon: 'image',\n    creator: 'Brandweer',\n    date: '2017.10.13 14:50',\n    peak: 3223,\n    peakRaise: 433,\n    uv: 433,\n    uvRaise: 33\n  },\n  {\n    title: 'Brand gemeld, auto in brand, vermoedelijk aangestoken',\n    icon: 'image',\n    creator: 'Brandweer',\n    date: '2017.10.13 14:50',\n    peak: 3223,\n    peakRaise: 238,\n    uv: 238,\n    uvRaise: 28\n  },\n  {\n    title: 'Loods in Brand, nog niet onder controle',\n    icon: 'image',\n    creator: 'Brandweer',\n    date: '2017.10.13 14:50',\n    peak: 4238,\n    peakRaise: -239,\n    uv: 239,\n    uvRaise: 29\n  },\n  {\n    title: 'Ondersteuning bij brand in loods',\n    icon: 'image',\n    creator: 'Ambulance',\n    date: '2017.10.13 14:50',\n    peak: 4238,\n    peakRaise: 2321,\n    uv: 921,\n    uvRaise: 91\n  },\n  {\n    title: 'Brand gemeld in loods',\n    icon: 'image',\n    creator: 'Politie',\n    date: '2017.10.13 14:50',\n    peak: 2321,\n    peakRaise: 1321,\n    uv: 321,\n    uvRaise: 132\n  }\n];\n\nconst data2 = [\n  'Roses are red',\n  'Violets are blue',\n  'Sugar is sweet',\n  'And so are you'\n];\n\nconst styleCenter = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  height: '60px'\n};\n\nconst slimText = {\n  fontSize: '0.666em',\n  color: '#97969B',\n  fontWeight: 'lighter',\n  paddingBottom: 5\n};\n\nconst titleStyle = {\n  paddingBottom: 5,\n  whiteSpace: 'nowrap',\n  fontWeight: 500\n};\n\nconst dataStyle = {\n  fontSize: '1.2em',\n  fontWeight: 500\n};\n\nclass IncidentList extends React.Component {\n  constructor() {\n    super();\n    this.renderRaise = this.renderRaise.bind(this);\n    this.state = {\n      user: '',\n      hits: []\n    };\n  }\n\n  async componentDidMount() {\n    const results = await getIncidentHits();\n\n    this.results = results.data;\n    const hitzone = results.data;\n    this.setState({ hits: hitzone });\n  }\n\n  renderRaise(number) {\n    const isPositive = number > 0;\n    const isNegative = number < 0;\n\n    return (\n      <span\n        style={{\n          paddingLeft: 15,\n          color: isNegative ? 'red' : 'green'\n        }}\n      >\n        <span>{isPositive ? '+' : null}</span>\n        <span>{number}</span>\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <Table\n          virtualized\n          height={400}\n          data={this.state.hits}\n          onRowClick={data => {\n            console.log(data);\n          }}\n        >\n\n          <Column width={200} fixed>\n            <HeaderCell>monitorcode</HeaderCell>\n            <Cell dataKey=\"monitorcode\" />\n          </Column>\n\n          <Column width={200}>\n            <HeaderCell>Hulpdienst</HeaderCell>\n            <Cell dataKey=\"emergency_service\" />\n          </Column>\n\n          {/* <Column width={120} fixed=\"right\">\n            <HeaderCell>Action</HeaderCell>\n\n            <Cell>\n              {rowData => {\n                function handleAction() {\n                  alert(`id:${rowData.id}`);\n                }\n                return (\n                  <span>\n                    <a onClick={handleAction}> Edit </a> |{' '}\n                    <a onClick={handleAction}> Remove </a>\n                  </span>\n                );\n              }}\n            </Cell>\n          </Column> */}\n        </Table>\n      </div>\n    );\n  }\n}\n\n\n\n\n\n// (\n//       <div className=\"listStyle\">\n//         <List bordered hover>\n//           {this.state.hits.map(item => (\n//             <List.Item key={item['pub_date']}>\n//               {item.monitorcode} <br></br>\n//               {item.pub_date}\n//             </List.Item>\n//           ))}\n//         </List>\n//       </div>\n//     );\n//     render() {\n//       return (\n//         <List hover>\n//           {data.map((item) => (\n//             <List.Item key={item['title']} index={index}>\n//               <FlexboxGrid>\n//                 {/*icon*/}\n//                 <FlexboxGrid.Item colspan={2} style={styleCenter}>\n//                   <Icon\n//                     icon={item['icon']}\n//                     style={{\n//                       color: 'darkgrey',\n//                       fontSize: '1.5em'\n//                     }}\n//                   />\n//                 </FlexboxGrid.Item>\n//                 {/*base info*/}\n//                 <FlexboxGrid.Item\n//                   colspan={6}\n//                   style={{\n//                     ...styleCenter,\n//                     flexDirection: 'column',\n//                     alignItems: 'flex-start',\n//                     overflow: 'hidden'\n//                   }}\n//                 >\n//                   <div style={titleStyle}>{item['monitorcode']}</div>\n//                   <div style={slimText}>\n//                     <div>\n//                       <Icon icon=\"user-circle-o\" />\n//                       {' ' + item['emergency_service']}\n//                     </div>\n//                     <div>{item['pub_date']}</div>\n//                   </div>\n//                 </FlexboxGrid.Item>\n//                 {/*peak data*/}\n//                 <FlexboxGrid.Item colspan={6} style={styleCenter}>\n//                   <div style={{ textAlign: 'right' }}>\n//                     <div style={slimText}>Top Value</div>\n//                     <div style={dataStyle}>{item['address'].toLocaleString()}</div>\n//                   </div>\n//                   {this.renderRaise(item['peakRaise'])}\n//                 </FlexboxGrid.Item>\n//                 {/*uv data*/}\n//                 <FlexboxGrid.Item colspan={6} style={styleCenter}>\n//                   <div style={{ textAlign: 'right' }}>\n//                     <div style={slimText}>UV</div>\n//                     <div style={dataStyle}>{item['uv'].toLocaleString()}</div>\n//                   </div>\n//                   {this.renderRaise(item['uvRaise'])}\n//                 </FlexboxGrid.Item>\n//                 {/*uv data*/}\n//                 <FlexboxGrid.Item\n//                   colspan={4}\n//                   style={{\n//                     ...styleCenter\n//                   }}\n//                 >\n//                   {/* link naar kaart [switch naar map view, met zoom niveau & op basis van location]   */}\n//                   <a href=\"#\">View on map</a>\n//                   <span style={{ padding: 5 }}>|</span>\n//                   {/* link naar adres in tabel */}\n//                   <a href=\"#\">Customer</a>\n//                 </FlexboxGrid.Item>\n//               </FlexboxGrid>\n//             </List.Item>\n//           ))}\n//         </List>\n//       );\n//     }\n//   }\n\nexport default IncidentList;\n","import React from 'react';\nimport { getClientLocations } from '../services/api';\nimport { Table } from 'rsuite';\n\nconst { Column, HeaderCell, Cell, Pagination } = Table;\n\nclass ClientTable extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      clients: []\n    };\n  }\n\n  async componentDidMount() {\n    const results = await getClientLocations();\n\n    this.results = results.data;\n    const clients = results.data;\n\n    this.setState({ clients: clients });\n    console.log(clients);\n  }\n\n  render() {\n    return (\n      <div>\n        <Table\n          height={400}\n          data={this.state.clients}\n          onRowClick={data => {\n            console.log(data);\n          }}\n        >\n          <Column width={70} align=\"center\" fixed>\n            <HeaderCell>Id</HeaderCell>\n            <Cell dataKey=\"id\" />\n          </Column>\n\n          <Column width={200} fixed>\n            <HeaderCell>Client Name</HeaderCell>\n            <Cell dataKey=\"name\" />\n          </Column>\n\n          <Column width={200}>\n            <HeaderCell>Address</HeaderCell>\n            <Cell dataKey=\"address\" />\n          </Column>\n\n          <Column width={120} fixed=\"right\">\n            <HeaderCell>Action</HeaderCell>\n\n            <Cell>\n              {rowData => {\n                function handleAction() {\n                  alert(`id:${rowData.id}`);\n                }\n                return (\n                  <span>\n                    <a onClick={handleAction}> Edit </a> |{' '}\n                    <a onClick={handleAction}> Remove </a>\n                  </span>\n                );\n              }}\n            </Cell>\n          </Column>\n        </Table>\n      </div>\n    );\n  }\n}\n\nexport default ClientTable;\n","import React from 'react';\n\nimport IncidentList from './IncidentList';\nimport ClientTable from './ClientTable';\n\n//this will be the account dashboard\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: ''\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"incidentWidth\">\n          <div>\n            <IncidentList />\n          </div>\n        </div>\n        <div className=\"clientWidth\">\n          <ClientTable />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","// we use this component to make a route private\n\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nfunction PrivateRoute({ component: Component, authed, ...rest }) {\n  console.log('user is logged in: ' + authed);\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authed === true ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{ pathname: '/login', state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;\n","import React from 'react';\nimport {\n  Button,\n  ButtonToolbar,\n  ControlLabel,\n  Form,\n  FormControl,\n  FormGroup,\n  HelpBlock\n} from 'rsuite';\n\n//determines current environment for api calls & homepage routing\nvar current_environment = window.location.origin;\n\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\n\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: ''\n    };\n  }\n\n  handle_change = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    this.setState(prevstate => {\n      const newState = { ...prevstate };\n      newState[name] = value;\n      console.log(newState);\n\n      return newState;\n    });\n  };\n\n  handle_login = (e, data) => {\n    e.preventDefault();\n    fetch(`${apiUrl}/token-auth/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(res => res.json())\n      .then(json => {\n        if (json.token !== undefined) {\n          localStorage.setItem('token', json.token);\n        }\n        this.setState({\n          username: json.user.username\n        });\n        console.log('user: ' + json.user.username);\n        // console.log(json.token, typeof json.token)\n        // console.log(this.state.username)\n\n        // console.log(body)\n\n        // redirect to homepage\n        window.location.href = `${current_environment}`;\n      })\n      .catch(error => {\n        return error;\n      });\n  };\n\n  //test\n\n  render() {\n    return (\n      <Form fluid>\n        <div>\n          <h4\n            style={{\n              color: '#2A3C47',\n              top: '40px'\n            }}\n          >\n            Login\n          </h4>\n        </div>\n\n        <br />\n        <FormGroup>\n          <ControlLabel>Username</ControlLabel>\n          <FormControl\n            name=\"username\"\n            onChange={(value, event) => {\n              this.handle_change(event);\n            }}\n          />\n          {/* <HelpBlock>Required</HelpBlock> */}\n        </FormGroup>\n        <FormGroup>\n          <ControlLabel>Password</ControlLabel>\n          <FormControl\n            name=\"password\"\n            type=\"password\"\n            onChange={(value, event) => {\n              this.handle_change(event);\n            }}\n          />\n          {/* <HelpBlock>Required</HelpBlock> */}\n        </FormGroup>\n        <FormGroup>\n          <ButtonToolbar>\n            <Button\n              color=\"blue\"\n              onClick={e => this.handle_login(e, this.state)}\n            >\n              Login\n            </Button>\n            <Button appearance=\"default\" disabled>\n              Sign up\n            </Button>\n            <HelpBlock tooltip>Sign up coming soon!</HelpBlock>\n          </ButtonToolbar>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default LoginForm;\n\n// LoginForm.propTypes = {\n//   handle_login: PropTypes.func.isRequired\n// };\n","// LOGIN PAGINA\n\nimport React from 'react';\n\nimport LoginForm from './LoginForm';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      logged_in: '',\n      url: 'https://i.imgur.com/f59aONW.png'\n    };\n\n    this.handleLoginChange = this.handleLoginChange.bind(this);\n  }\n\n  handleLoginChange(value) {\n    this.setState({ logged_in: value });\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          backgroundImage: `url(\"https://i.imgur.com/f66MsTC.png\")`,\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          backgroundRepeat: 'no-repeat',\n          width: '100vw',\n          height: '100vh'\n        }}\n      >\n        <div>\n          <div className=\"loginExplainer\">\n            <div>\n              <img\n                className=\"logo_home\"\n                src=\"https://i.imgur.com/f59aONW.png\"\n                alt=\"Logo Incidentradar\"\n              />\n            </div>\n            <div className=\"introbarStyle\">\n              <div>\n                Verzekeraar, projectontwikkelaar, buurtwacht of beveiliging? De\n                Incidentradar helpt sneller en adequater te reageren op\n                incidenten om zo negatieve effecten te verminderen en preventie\n                te verbeteren.{' '}\n              </div>\n              <br />\n              <br />\n              <div>Gebruik de Incidentradar om.. </div>\n              <div>\n                1. .. automatisch gewaarschuwd te worden als er een incident\n                plaatsvindt bij een van je gekozen locaties, waardoor je sneller\n                kan reageren en eventuele schade kan beperken.\n              </div>\n              <div>\n                2. .. de eigen risicoanalyse te verdiepen met extra informatie.{' '}\n              </div>\n              <div>\n                3. .. locatie gerelateerde risico inzichten op basis van\n                historische data te krijgen. (toekomst)\n              </div>\n              <br />\n              <br />\n              <br />\n              <br />\n              <br />\n              <div>\n                De Incidentradar is op dit moment in Private Beta.\n                Ge√Ønteresseerd in een demo? Stuur een bericht naar\n                koen@cartha.io.{' '}\n              </div>\n            </div>\n            <div className=\"loginHolder\">\n              <div></div>\n              <div>\n                <LoginForm handleLoginChange={this.handleLoginChange} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","// Dit wordt de automatische routing file die kijkt of de gebruiker\n// naar home (index.js) of login (login.js) gaat\n//\n\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Button, ButtonToolbar, Header } from 'rsuite';\n\nimport Application from './components/Application';\nimport Dashboard from './components/Dashboard';\nimport PrivateRoute from './components/PrivateRoute';\nimport Login from './components/Login';\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nclass AppRoute extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      displayed_form: '',\n      logged_in: localStorage.getItem('token') ? true : false,\n      username: ''\n    };\n  }\n\n  componentDidMount() {\n    // @Koen: Deze lifecycle hook werd nooit aangeroepen vanwege de hoofdletter C\n    //if logged in, change username in state\n    // naast naam aanmaken doet dit niets volgens mij.\n    // iets vergelijkbaars aanmaken om extra controle uit te voeren\n    if (this.state.logged_in) {\n      fetch(`${apiUrl}/scraper/current_user/`, {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      })\n        .then(res => res.json())\n        .then(json => {\n          this.setState({ username: json.username });\n          this.setState({ logged_in: true });\n        });\n    }\n  }\n\n  // SIGNUP NOT YET IMPLEMENTED\n  // handle_signup = (e, data) => {\n  //   e.preventDefault();\n  //   fetch('http://localhost:8000/scraper/UserList/', {\n  //     method: 'POST',\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     body: JSON.stringify(data)\n  //   })\n  //     .then(res => res.json())\n  //     .then(json => {\n  //       localStorage.setItem('token', json.token);\n  //       this.setState({\n  //         logged_in: true,\n  //         displayed_form: '',\n  //         username: json.username\n  //       });\n  //     });\n  // };\n\n  handle_logout = () => {\n    localStorage.removeItem('token');\n    this.setState({ logged_in: false, username: '' });\n  };\n\n  render() {\n    return (\n      <Router>\n        <div>\n          {/* <Nav className='nav' /> */}\n          <Header>\n            <div>{/* <h1 className='title'>Incidentradar</h1> */}</div>\n            <div className=\"navbarStyle\">\n              <ButtonToolbar>\n                {/* {this.state.logged_in === true && <Link to=\"/\"><Button>Home</Button></Link>}\n                {this.state.logged_in === true && <Link to=\"/dashboard\"><Button>Dashboard</Button></Link>} */}\n                {this.state.logged_in === true && (\n                  <Button onClick={this.handle_logout}>Logout</Button>\n                )}\n                {/* <IconButton icon={<SearchIcon />}>Find address</IconButton> */}\n              </ButtonToolbar>\n            </div>\n          </Header>\n\n          <PrivateRoute\n            authed={this.state.logged_in}\n            exact\n            path=\"/\"\n            component={Application}\n          />\n          <Route\n            handleLoginChange={this.handleLoginChange}\n            path=\"/login\"\n            component={Login}\n          />\n          <PrivateRoute\n            authed={this.state.logged_in}\n            exact\n            path=\"/dashboard\"\n            component={Dashboard}\n          />\n          {/* <Route component={ErrorMessage} /> */}\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default AppRoute;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'rsuite/dist/styles/rsuite-default.css';\n\nimport AppRoute from './AppRoute';\n\nReactDOM.render(<AppRoute />, document.getElementById('root'));\n"],"sourceRoot":""}