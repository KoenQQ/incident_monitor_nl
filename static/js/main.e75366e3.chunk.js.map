{"version":3,"sources":["assets/logo_regular.png","components/FilterSelector.js","components/Application.js","services/api.js","components/IncidentList.js","components/ClientTable.js","components/Dashboard.js","components/PrivateRoute.js","components/LoginForm.js","components/Login.js","AppRoute.js","index.js"],"names":["FilterSelector","props","sendSearchRangeChange","e","searchRangeChange","sendDateRangeChange","dateRangeChange","sendWordSearchChange","wordSearchChange","sendIncludePoliceChange","includePoliceChange","sendIncludeFireChange","includeFireChange","sendIncludeAmbuChange","includeAmbuChange","handleChange","name","event","handleFireChange","setState","checkboxFire","state","handlePolChange","checkboxPol","handleAmbuChange","checkboxAmbu","Slider","progress","min","step","max","defaultValue","onChange","value","console","log","searchRanged","dateRanged","Input","placeholder","Checkbox","checked","this","includeFire","includePol","includeAmbu","React","Component","mapboxgl","accessToken","process","Application","target","lng","lat","zoom","searchRange","dateRange","array","wordSearch","handleDateRangeChange","bind","handleSearchRangeChange","handleWordSearchChange","handleIncludePoliceChange","handleIncludeFireChange","handleIncludeAmbuChange","map","Map","container","mapContainer","style","center","jsonToGeoJson","geojson","type","features","length","Object","keys","i","push","geometry","coordinates","fields","longitude","latitude","properties","monitorcode","comment","emergency_service","priority_code","region","pub_date","on","getCenter","toFixed","getZoom","lngLat","Popup","color","setLngLat","setText","addTo","axios","params","includePolice","then","results","data","getSource","removeLayer","removeSource","addSource","addLayer","id","source","paint","getCanvas","cursor","slice","popup_extra","setHTML","remove","closeButton","closeOnClick","className","src","logo","alt","ref","el","apiUrl","interceptors","request","use","x","response","error","Promise","reject","Column","Table","HeaderCell","Cell","IncidentList","Pagination","renderRaise","user","hits","a","get","headers","Authorization","localStorage","getItem","days","hitzone","es","filtered_hitzone","filter","item","indexOf","sort","d1","d2","Date","getTime","number","isPositive","isNegative","paddingLeft","height","width","onRowClick","resizable","dataKey","fixed","ClientTable","clients","align","rowData","handleAction","alert","onClick","Dashboard","PrivateRoute","component","authed","rest","render","to","pathname","from","location","current_environment","window","origin","LoginForm","handle_change","prevstate","newState","handle_login","preventDefault","fetch","method","body","JSON","stringify","res","json","undefined","token","setItem","username","href","catch","password","Form","fluid","top","FormGroup","ControlLabel","FormControl","ButtonToolbar","Button","appearance","disabled","HelpBlock","tooltip","Login","logged_in","url","handleLoginChange","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","AppRoute","handle_logout","removeItem","displayed_form","Header","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e75366e3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_regular.0709e572.png\";","// https://rsuitejs.com/components/slider/\n// dit component voorzien variabelen voor de search query\n\nimport React from 'react';\nimport { Checkbox, Input, Slider } from 'rsuite';\n\nclass FilterSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      checkboxFire: true,\n      checkboxPol: true,\n      checkboxAmbu: true\n    };\n  }\n\n  sendSearchRangeChange = e => {\n    this.props.searchRangeChange(e);\n  };\n\n  sendDateRangeChange = e => {\n    this.props.dateRangeChange(e);\n  };\n\n  sendWordSearchChange = e => {\n    this.props.wordSearchChange(e);\n  };\n\n  sendIncludePoliceChange = e => {\n    this.props.includePoliceChange(e);\n  };\n\n  sendIncludeFireChange = e => {\n    this.props.includeFireChange(e);\n    // console.log(e)\n  };\n\n  sendIncludeAmbuChange = e => {\n    this.props.includeAmbuChange(e);\n  };\n\n  handleChange = (name, event) => {\n    this.props.handleChange(name, event);\n  };\n\n  handleFireChange = event => {\n    this.setState({\n      checkboxFire: !this.state.checkboxFire\n    });\n\n    this.sendIncludeFireChange(this.state.checkboxFire);\n  };\n\n  handlePolChange = event => {\n    this.setState({\n      checkboxPol: !this.state.checkboxPol\n    });\n    this.sendIncludePoliceChange(this.state.checkboxPol);\n  };\n\n  handleAmbuChange = event => {\n    this.setState({\n      checkboxAmbu: !this.state.checkboxAmbu\n    });\n    this.sendIncludeAmbuChange(this.state.checkboxAmbu);\n  };\n\n  render() {\n    return (\n      <div>\n        How big is the search area in km?\n        <Slider\n          progress\n          min={0.5}\n          step={0.5}\n          max={20}\n          defaultValue={1}\n          onChange={value => {\n            console.log('radius ' + value);\n            this.sendSearchRangeChange(value);\n            console.log(this.props.searchRanged);\n          }}\n        />\n        <br />\n        Look back how many days?\n        <Slider\n          progress\n          defaultValue={30}\n          min={0}\n          max={50}\n          onChange={value => {\n            console.log('date range ' + value);\n            this.sendDateRangeChange(value);\n            console.log(this.props.dateRanged);\n          }}\n        />\n        <br />\n        Filter on other words/values\n        <Input\n          placeholder=\"ex. 'Brand'\"\n          onChange={value => {\n            this.sendWordSearchChange(value);\n          }}\n        />\n        <br />\n        <Checkbox\n          checked={!!this.props.includeFire}\n          onChange={this.handleFireChange}\n        >\n          {' '}\n          Brandweer\n        </Checkbox>\n        <Checkbox\n          checked={!!this.props.includePol}\n          onChange={this.handlePolChange}\n        >\n          {' '}\n          Politie\n        </Checkbox>\n        <Checkbox\n          checked={!!this.props.includeAmbu}\n          onChange={this.handleAmbuChange}\n        >\n          {' '}\n          Ambulance\n        </Checkbox>\n      </div>\n    );\n  }\n}\n\nexport default FilterSelector;\n","import * as axios from 'axios';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport React from 'react';\n\nimport logo from '../assets/logo_regular.png';\n\nimport FilterSelector from './FilterSelector';\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOXGL_ACCESS_TOKEN;\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nclass Application extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      lng: 5.8,\n      lat: 52,\n      zoom: 7,\n      searchRange: 1,\n      dateRange: 30,\n      array: 0,\n      wordSearch: '',\n      includeFire: true,\n      includePol: true,\n      includeAmbu: true\n    };\n    // this.handleChange = this.handlechange.bind(this)\n    this.handleDateRangeChange = this.handleDateRangeChange.bind(this);\n    this.handleSearchRangeChange = this.handleSearchRangeChange.bind(this);\n    this.handleWordSearchChange = this.handleWordSearchChange.bind(this);\n    this.handleIncludePoliceChange = this.handleIncludePoliceChange.bind(this);\n    this.handleIncludeFireChange = this.handleIncludeFireChange.bind(this);\n    this.handleIncludeAmbuChange = this.handleIncludeAmbuChange.bind(this);\n  }\n\n  //functions to handle changes in filter sliders\n  handleChange = name => event => {\n    this.setState({ ...this.state, [name]: event.target.checked });\n  };\n\n  handleDateRangeChange(value) {\n    this.setState({ dateRange: value });\n  }\n\n  handleSearchRangeChange(value) {\n    this.setState({ searchRange: value });\n  }\n\n  handleWordSearchChange(value) {\n    this.setState({ wordSearch: value });\n  }\n\n  handleIncludeFireChange(value) {\n    this.setState({ includeFire: value });\n    console.log('fire new: ' + value);\n  }\n\n  handleIncludePoliceChange(value) {\n    this.setState({ includePol: value });\n    console.log('police new: ' + value);\n  }\n\n  handleIncludeAmbuChange(value) {\n    this.setState({ includeAmbu: value });\n    console.log('ambu new: ' + value);\n    // console.log('ambu current: ' + this.state.includeAmbu)\n  }\n\n  componentDidMount() {\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/kdebrauw/ckaxjbuh50ohl1ioo470azefc',\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom\n    });\n\n    map.on('move', () => {\n      this.setState({\n        lng: map.getCenter().lng.toFixed(4),\n        lat: map.getCenter().lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n    });\n\n    map.on('click', event => {\n      const { lat, lng } = event.lngLat;\n\n      new mapboxgl.Popup({\n        color: '#2A3C47'\n      })\n        .setLngLat(event.lngLat)\n        .setText(\n          'What happened here in the last ' + this.state.dateRange + ' days?'\n        )\n        .addTo(map);\n\n      // localhost: 'http://127.0.0.1:8000/scraper/api/location/'\n      // production: 'https://incident-monitor-nl.herokuapp.com/scraper/api/location/'\n      axios\n        .get(\n          `${apiUrl}/scraper/api/location/`,\n          {\n            params: {\n              dateRange: this.state.dateRange,\n              'location-list': `SRID=4326;POINT(${lng} ${lat})`,\n              searchRange: this.state.searchRange,\n              wordSearch: this.state.wordSearch,\n              includePolice: this.state.includePol,\n              includeFire: this.state.includeFire,\n              includeAmbu: this.state.includeAmbu\n            }\n          }\n        )\n        .then(results => {\n          this.results = results.data;\n          console.log(jsonToGeoJson(results.data));\n\n          //update this.state.array with query number results\n          this.setState({ array: this.results.length });\n\n          // if layer exists remove old one\n          if (map.getSource('locaties')) {\n            map.removeLayer('locaties_waddan');\n            map.removeSource('locaties');\n          }\n\n          map.addSource('locaties', {\n            type: 'geojson',\n            data: jsonToGeoJson(results.data)\n          });\n\n          map.addLayer({\n            id: 'locaties_waddan',\n            type: 'circle',\n            source: 'locaties',\n            paint: {\n              'circle-radius': 5,\n              'circle-stroke-color': '#2A3C47',\n              'circle-stroke-width': 1,\n              'circle-color': [\n                'match',\n                ['get', 'emergency_service'],\n                'ambu',\n                '#EFDC23',\n                'br',\n                '#D13620',\n                'pol',\n                '#2134BE',\n                'unknown',\n                '#3bb2d0',\n                /* other */ '#3C3C3D'\n              ]\n            }\n          });\n\n          map.on('mouseenter', 'locaties_waddan', function (e) {\n            map.getCanvas().style.cursor = 'pointer';\n\n            var coordinates = e.features[0].geometry.coordinates.slice();\n            var monitorcode = e.features[0].properties.monitorcode;\n            var comment = e.features[0].properties.comment;\n            var emergency_service = e.features[0].properties.emergency_service;\n            var priority_code = e.features[0].properties.priority_code;\n            var pub_date = e.features[0].properties.pub_date;\n\n            // console.log(coordinates);\n            console.log(monitorcode);\n\n            // Ensure that if the map is zoomed out such that multiple\n            // copies of the feature are visible, the popup appears\n            // over the copy being pointed to.\n\n            // while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n            // coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n            // }\n\n            popup_extra\n              .setLngLat(coordinates)\n              .setHTML(\n                '<H3> Incident </H3>' +\n                  pub_date +\n                  '<br> <br> Prioriteit: ' +\n                  priority_code +\n                  '<br> Hulpdienst: ' +\n                  emergency_service +\n                  '<br> <br> Bericht: ' +\n                  comment\n              )\n              .addTo(map);\n          });\n\n          map.on('mouseleave', 'locaties_waddan', function () {\n            map.getCanvas().style.cursor = '';\n            popup_extra.remove();\n          });\n        });\n    });\n\n    function jsonToGeoJson(e) {\n      var geojson = {\n        type: 'FeatureCollection',\n        features: []\n      };\n      var length = Object.keys(e).length;\n\n      for (var i = 0; i < length; i++) {\n        // if (window.CP.shouldStopExecution(1)) {\n        //   break;\n        // }\n        geojson.features.push({\n          type: 'Feature',\n          geometry: {\n            type: 'Point',\n            coordinates: [e[i].fields.longitude, e[i].fields.latitude]\n          },\n          properties: {\n            monitorcode: e[i].fields.monitorcode,\n            comment: e[i].fields.comment,\n            emergency_service: e[i].fields.emergency_service,\n            priority_code: e[i].fields.priority_code,\n            region: e[i].fields.region,\n            pub_date: e[i].fields.pub_date\n          }\n        });\n      }\n\n      // window.CP.exitedLoop(1); test\n      // var parsed = GeoJSON.parse(file, {Point: ['fields.latitude', 'fields.longitude']})\n      return geojson;\n    }\n\n    var popup_extra = new mapboxgl.Popup({\n      closeButton: false,\n      closeOnClick: false\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div></div>\n        <div className=\"dataHolder\">\n          <div>\n            <img className=\"logo_home\" src={logo} alt=\"Logo Incidentradar\" />\n          </div>\n          <div className=\"introbarStyle\">\n            <div>Click on the map to explore recent incidents in an area. </div>\n          </div>\n          <div className=\"hline\" />\n          <div className=\"filterStyle\">\n            <FilterSelector\n              searchRanged={this.state.searchRange}\n              dateRanged={this.state.dateRange}\n              handleChange={this.handleChange}\n              searchRangeChange={this.handleSearchRangeChange}\n              dateRangeChange={this.handleDateRangeChange}\n              wordSearchChange={this.handleWordSearchChange}\n              includePoliceChange={this.handleIncludePoliceChange}\n              includeFireChange={this.handleIncludeFireChange}\n              includeAmbuChange={this.handleIncludeAmbuChange}\n              includeFire={this.state.includeFire}\n              includePol={this.state.includePol}\n              includeAmbu={this.state.includeAmbu}\n            />\n          </div>\n          <div className=\"sidebarStyle\">\n            <div>\n              Longitude: {this.state.lng} | Latitude: {this.state.lat} | Zoom:{' '}\n              {this.state.zoom}\n            </div>\n            <div> Your click returned {this.state.array} results </div>\n          </div>\n          <div className=\"carthaBar\">\n            <div>Designed and powered by Cartha</div>\n          </div>\n        </div>\n        <div ref={el => (this.mapContainer = el)} className=\"mapContainer\" />\n      </div>\n    );\n  }\n}\n\nexport default Application;\n\n// ReactDOM.render(<Application />, document.getElementById('App'));\n","// API STUFF\nimport axios from 'axios';\n\n// AXIOS STUFF\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\naxios.interceptors.request.use(x => {\n  console.log(x);\n  return x;\n});\n\n// interceptor that puts call details in console\naxios.interceptors.response.use(\n  x => {\n    console.log(x);\n    return x;\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error);\n  }\n);\n\n// AXIOS STUFF END\n\n//Returns the user determined by token in localstorage\nexport function getUser() {\n  return axios.get(`${apiUrl}/scraper/current_user/`, {\n    headers: {\n      Authorization: `Token ${localStorage.getItem('token')}`\n    }\n  });\n}\n\n// returns hits relevant for the user\nexport function getIncidentHits() {\n  return axios.get(`https://api.incidentradar.com/scraper/api/incidentHits/`, {\n    headers: {\n      Authorization: `Token ${localStorage.getItem('token')}`\n    },\n    params: {\n      days: '10'\n    }\n  });\n}\n\n// returns tracked/client locations for the user\nexport function getClientLocations() {\n  return axios.get(\n    `${apiUrl}/scraper/api/clientlocationlist/`,\n    {\n      headers: {\n        Authorization: `Token ${localStorage.getItem('token')}`\n      }\n    }\n  );\n}\n\n// add a new client location to tracked locations\nexport function addClientLocation(data) {\n  return axios.post(\n    `${apiUrl}/scraper/api/addclientlocation`,\n    {\n      headers: {\n        Authorization: `Token ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    }\n  );\n}\n\n// remove client location from tracked locations\nexport function removeClientLocation(data) {\n  return axios.delete(\n    `${apiUrl}/scraper/api/addclientlocation`,\n    {\n      headers: {\n        Authorization: `Token ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    }\n  );\n}\n","import React from 'react';\nimport { List, Table } from 'rsuite';\nimport { getIncidentHits } from '../services/api';\n\nconst { Column, HeaderCell, Cell, Pagination } = Table;\n\nclass IncidentList extends React.Component {\n  constructor() {\n    super();\n    this.renderRaise = this.renderRaise.bind(this);\n    this.state = {\n      user: '',\n      hits: []\n    };\n  }\n\n  async componentDidMount() {\n    const results = await getIncidentHits();\n\n    this.results = results.data;\n    const hitzone = results.data;\n    const es = ['ambu', '']\n    const filtered_hitzone = hitzone.filter(function(item){\n      return es.indexOf(item.emergency_service)}) \n    filtered_hitzone.sort((d1, d2) => new Date(d2.pub_date).getTime() - new Date(d1.pub_date).getTime());\n    this.setState({ hits: filtered_hitzone });\n    console.log(filtered_hitzone);\n  }\n\n  renderRaise(number) {\n    const isPositive = number > 0;\n    const isNegative = number < 0;\n\n    return (\n      <span\n        style={{\n          paddingLeft: 15,\n          color: isNegative ? 'red' : 'green'\n        }}\n      >\n        <span>{isPositive ? '+' : null}</span>\n        <span>{number}</span>\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <Table\n          height={1200}\n          width={1000}\n          data={this.state.hits}\n          onRowClick={data => {\n            console.log(data);\n          }}\n        > \n          <Column width={500} resizable>\n            <HeaderCell>Incident</HeaderCell>\n            <Cell dataKey=\"comment\" />\n          </Column>\n\n          <Column width={100} fixed>\n            <HeaderCell>Hulpdienst</HeaderCell>\n            <Cell dataKey=\"emergency_service\" />\n          </Column>\n\n          <Column width={160} fixed>\n            <HeaderCell>klant</HeaderCell>\n            <Cell dataKey=\"name\" />\n          </Column>\n\n          <Column width={180} fixed>\n            <HeaderCell>datum</HeaderCell>\n            <Cell dataKey=\"pub_date\" />\n          </Column>\n\n          {/* <Column width={120} fixed=\"right\">\n            <HeaderCell>Action</HeaderCell>\n\n            <Cell>\n              {rowData => {\n                function handleAction() {\n                  alert(`id:${rowData.id}`);\n                }\n                return (\n                  <span>\n                    <a onClick={handleAction}> Edit </a> |{' '}\n                    <a onClick={handleAction}> Remove </a>\n                  </span>\n                );\n              }}\n            </Cell>\n          </Column> */}\n        </Table>\n      </div>\n    );\n  }\n}\n\n      // <div className=\"listStyle\">\n      //   <List bordered hover>\n      //     {this.state.hits.map(item => (\n      //       <List.Item key={item['pub_date']}>\n      //         {item.monitorcode} <br></br>\n      //         {item.pub_date}\n      //       </List.Item>\n      //     ))}\n      //   </List>\n      // </div>\n//     render() {\n//       return (\n//         <List hover>\n//           {data.map((item) => (\n//             <List.Item key={item['title']} index={index}>\n//               <FlexboxGrid>\n//                 {/*icon*/}\n//                 <FlexboxGrid.Item colspan={2} style={styleCenter}>\n//                   <Icon\n//                     icon={item['icon']}\n//                     style={{\n//                       color: 'darkgrey',\n//                       fontSize: '1.5em'\n//                     }}\n//                   />\n//                 </FlexboxGrid.Item>\n//                 {/*base info*/}\n//                 <FlexboxGrid.Item\n//                   colspan={6}\n//                   style={{\n//                     ...styleCenter,\n//                     flexDirection: 'column',\n//                     alignItems: 'flex-start',\n//                     overflow: 'hidden'\n//                   }}\n//                 >\n//                   <div style={titleStyle}>{item['monitorcode']}</div>\n//                   <div style={slimText}>\n//                     <div>\n//                       <Icon icon=\"user-circle-o\" />\n//                       {' ' + item['emergency_service']}\n//                     </div>\n//                     <div>{item['pub_date']}</div>\n//                   </div>\n//                 </FlexboxGrid.Item>\n//                 {/*peak data*/}\n//                 <FlexboxGrid.Item colspan={6} style={styleCenter}>\n//                   <div style={{ textAlign: 'right' }}>\n//                     <div style={slimText}>Top Value</div>\n//                     <div style={dataStyle}>{item['address'].toLocaleString()}</div>\n//                   </div>\n//                   {this.renderRaise(item['peakRaise'])}\n//                 </FlexboxGrid.Item>\n//                 {/*uv data*/}\n//                 <FlexboxGrid.Item colspan={6} style={styleCenter}>\n//                   <div style={{ textAlign: 'right' }}>\n//                     <div style={slimText}>UV</div>\n//                     <div style={dataStyle}>{item['uv'].toLocaleString()}</div>\n//                   </div>\n//                   {this.renderRaise(item['uvRaise'])}\n//                 </FlexboxGrid.Item>\n//                 {/*uv data*/}\n//                 <FlexboxGrid.Item\n//                   colspan={4}\n//                   style={{\n//                     ...styleCenter\n//                   }}\n//                 >\n//                   {/* link naar kaart [switch naar map view, met zoom niveau & op basis van location]   */}\n//                   <a href=\"#\">View on map</a>\n//                   <span style={{ padding: 5 }}>|</span>\n//                   {/* link naar adres in tabel */}\n//                   <a href=\"#\">Customer</a>\n//                 </FlexboxGrid.Item>\n//               </FlexboxGrid>\n//             </List.Item>\n//           ))}\n//         </List>\n//       );\n//     }\n//   }\n\nexport default IncidentList;\n","import React from 'react';\nimport { List, Table } from 'rsuite';\nimport { getClientLocations, removeClientLocation } from '../services/api';\n\n\nconst { Column, HeaderCell, Cell, Pagination } = Table;\n\n\nclass ClientTable extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      clients: []\n    };\n  }\n\n  async componentDidMount() {\n    const results = await getClientLocations();\n\n    this.results = results.data;\n    const clients = results.data;\n\n    this.setState({ clients: clients });\n    console.log(results)\n    console.log(clients);\n    \n  }\n\n  render() {\n    return (\n      <div>\n        <Table\n          height={800}\n          width={700}\n          data={this.state.clients}\n          onRowClick={data => {\n            console.log(data);\n          }}\n        >\n          <Column width={70} align=\"center\" fixed>\n            <HeaderCell>id</HeaderCell>\n            <Cell dataKey=\"pk\" />\n          </Column>\n\n          <Column width={400} fixed>\n            <HeaderCell>Klantnaam</HeaderCell>\n            <Cell dataKey=\"name\" />\n          </Column>\n\n          <Column width={100} fixed>\n            <HeaderCell>Adres</HeaderCell>\n            <Cell dataKey=\"fields.address\" />\n          </Column>\n\n          <Column width={120} fixed=\"right\">\n            <HeaderCell>Actie</HeaderCell>\n\n            <Cell>\n              {rowData => {\n                function handleAction() {\n                  alert(`id:${rowData.id}`);\n                }\n                return (\n                  <span>\n                    <a onClick={handleAction}> Edit </a> |{' '}\n                    <a onClick={handleAction}> Remove </a>\n                  </span>\n                );\n              }}\n            </Cell>\n          </Column>\n        </Table>\n      </div>\n    );\n  }\n}\n\nexport default ClientTable;\n","import React from 'react';\n\nimport IncidentList from './IncidentList';\nimport ClientTable from './ClientTable';\n\n//this will be the account dashboard\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: ''\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"incidentWidth\">\n          <div>\n            <IncidentList />\n          </div>\n        </div>\n        <div className=\"clientWidth\">\n          <ClientTable />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","// we use this component to make a route private\n\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nfunction PrivateRoute({ component: Component, authed, ...rest }) {\n  console.log('user is logged in: ' + authed);\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authed === true ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{ pathname: '/login', state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;\n","import React from 'react';\nimport {\n  Button,\n  ButtonToolbar,\n  ControlLabel,\n  Form,\n  FormControl,\n  FormGroup,\n  HelpBlock\n} from 'rsuite';\n\n//determines current environment for api calls & homepage routing\nvar current_environment = window.location.origin;\n\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\n\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: ''\n    };\n  }\n\n  handle_change = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    this.setState(prevstate => {\n      const newState = { ...prevstate };\n      newState[name] = value;\n      console.log(newState);\n\n      return newState;\n    });\n  };\n\n  handle_login = (e, data) => {\n    e.preventDefault();\n    fetch(`${apiUrl}/token-auth/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(res => res.json())\n      .then(json => {\n        if (json.token !== undefined) {\n          localStorage.setItem('token', json.token);\n        }\n        this.setState({\n          username: json.user.username\n        });\n        console.log('user: ' + json.user.username);\n        // console.log(json.token, typeof json.token)\n        // console.log(this.state.username)\n\n        // console.log(body)\n\n        // redirect to homepage\n        window.location.href = `${current_environment}`;\n      })\n      .catch(error => {\n        return error;\n      });\n  };\n\n  //test\n\n  render() {\n    return (\n      <Form fluid>\n        <div>\n          <h4\n            style={{\n              color: '#2A3C47',\n              top: '40px'\n            }}\n          >\n            Login\n          </h4>\n        </div>\n\n        <br />\n        <FormGroup>\n          <ControlLabel>Username</ControlLabel>\n          <FormControl\n            name=\"username\"\n            onChange={(value, event) => {\n              this.handle_change(event);\n            }}\n          />\n          {/* <HelpBlock>Required</HelpBlock> */}\n        </FormGroup>\n        <FormGroup>\n          <ControlLabel>Password</ControlLabel>\n          <FormControl\n            name=\"password\"\n            type=\"password\"\n            onChange={(value, event) => {\n              this.handle_change(event);\n            }}\n          />\n          {/* <HelpBlock>Required</HelpBlock> */}\n        </FormGroup>\n        <FormGroup>\n          <ButtonToolbar>\n            <Button\n              color=\"blue\"\n              onClick={e => this.handle_login(e, this.state)}\n            >\n              Login\n            </Button>\n            <Button appearance=\"default\" disabled>\n              Sign up\n            </Button>\n            <HelpBlock tooltip>Sign up coming soon!</HelpBlock>\n          </ButtonToolbar>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default LoginForm;\n\n// LoginForm.propTypes = {\n//   handle_login: PropTypes.func.isRequired\n// };\n","// LOGIN PAGINA\n\nimport React from 'react';\n\nimport LoginForm from './LoginForm';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      logged_in: '',\n      url: 'https://i.imgur.com/f59aONW.png'\n    };\n\n    this.handleLoginChange = this.handleLoginChange.bind(this);\n  }\n\n  handleLoginChange(value) {\n    this.setState({ logged_in: value });\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          backgroundImage: `url(\"https://i.imgur.com/f66MsTC.png\")`,\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          backgroundRepeat: 'no-repeat',\n          width: '100vw',\n          height: '100vh'\n        }}\n      >\n        <div>\n          <div className=\"loginExplainer\">\n            <div>\n              <img\n                className=\"logo_home\"\n                src=\"https://i.imgur.com/f59aONW.png\"\n                alt=\"Logo Incidentradar\"\n              />\n            </div>\n            <div className=\"introbarStyle\">\n              <div>\n                Verzekeraar, projectontwikkelaar, buurtwacht of beveiliging? De\n                Incidentradar helpt sneller en adequater te reageren op\n                incidenten om zo negatieve effecten te verminderen en preventie\n                te verbeteren.{' '}\n              </div>\n              <br />\n              <br />\n              <div>Gebruik de Incidentradar om.. </div>\n              <div>\n                1. .. automatisch gewaarschuwd te worden als er een incident\n                plaatsvindt bij een van je gekozen locaties, waardoor je sneller\n                kan reageren en eventuele schade kan beperken.\n              </div>\n              <div>\n                2. .. de eigen risicoanalyse te verdiepen met extra informatie.{' '}\n              </div>\n              <div>\n                3. .. locatie gerelateerde risico inzichten op basis van\n                historische data te krijgen. (toekomst)\n              </div>\n              <br />\n              <br />\n              <br />\n              <br />\n              <br />\n              <div>\n                De Incidentradar is op dit moment in Private Beta.\n                Ge√Ønteresseerd in een demo? Stuur een bericht naar\n                koen@cartha.io.{' '}\n              </div>\n            </div>\n            <div className=\"loginHolder\">\n              <div></div>\n              <div>\n                <LoginForm handleLoginChange={this.handleLoginChange} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","// Dit wordt de automatische routing file die kijkt of de gebruiker\n// naar home (index.js) of login (login.js) gaat\n//\n\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Button, ButtonToolbar, Header } from 'rsuite';\n\nimport Application from './components/Application';\nimport Dashboard from './components/Dashboard';\nimport PrivateRoute from './components/PrivateRoute';\nimport Login from './components/Login';\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nclass AppRoute extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      displayed_form: '',\n      logged_in: localStorage.getItem('token') ? true : false,\n      username: ''\n    };\n  }\n\n  componentDidMount() {\n    // @Koen: Deze lifecycle hook werd nooit aangeroepen vanwege de hoofdletter C\n    //if logged in, change username in state\n    // naast naam aanmaken doet dit niets volgens mij.\n    // iets vergelijkbaars aanmaken om extra controle uit te voeren\n    if (this.state.logged_in) {\n      fetch(`${apiUrl}/scraper/current_user/`, {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      })\n        .then(res => res.json())\n        .then(json => {\n          this.setState({ username: json.username });\n          this.setState({ logged_in: true });\n        });\n    }\n  }\n\n  // SIGNUP NOT YET IMPLEMENTED\n  // handle_signup = (e, data) => {\n  //   e.preventDefault();\n  //   fetch('http://localhost:8000/scraper/UserList/', {\n  //     method: 'POST',\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     body: JSON.stringify(data)\n  //   })\n  //     .then(res => res.json())\n  //     .then(json => {\n  //       localStorage.setItem('token', json.token);\n  //       this.setState({\n  //         logged_in: true,\n  //         displayed_form: '',\n  //         username: json.username\n  //       });\n  //     });\n  // };\n\n  handle_logout = () => {\n    localStorage.removeItem('token');\n    this.setState({ logged_in: false, username: '' });\n  };\n\n  render() {\n    return (\n      <Router>\n        <div>\n          {/* <Nav className='nav' /> */}\n          <Header>\n            <div>{/* <h1 className='title'>Incidentradar</h1> */}</div>\n            <div className=\"navbarStyle\">\n              <ButtonToolbar>\n                {/* {this.state.logged_in === true && <Link to=\"/\"><Button>Home</Button></Link>}\n                {this.state.logged_in === true && <Link to=\"/dashboard\"><Button>Dashboard</Button></Link>} */}\n                {this.state.logged_in === true && (\n                  <Button onClick={this.handle_logout}>Logout</Button>\n                )}\n                {/* <IconButton icon={<SearchIcon />}>Find address</IconButton> */}\n              </ButtonToolbar>\n            </div>\n          </Header>\n\n          <PrivateRoute\n            authed={this.state.logged_in}\n            exact\n            path=\"/\"\n            component={Application}\n          />\n          <Route\n            handleLoginChange={this.handleLoginChange}\n            path=\"/login\"\n            component={Login}\n          />\n          <PrivateRoute\n            authed={this.state.logged_in}\n            exact\n            path=\"/dashboard\"\n            component={Dashboard}\n          />\n          {/* <Route component={ErrorMessage} /> */}\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default AppRoute;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'rsuite/dist/styles/rsuite-default.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport './site.css';\n\nimport AppRoute from './AppRoute';\n\nReactDOM.render(<AppRoute />, document.getElementById('root'));\n"],"sourceRoot":""}